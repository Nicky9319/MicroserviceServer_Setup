{
    "database": "neocfo-blogs",
    "collections": [
        {
            "name": "blog_basic_metrics",
            "validator": {
                "$jsonSchema": {
                    "bsonType": "object",
                    "required": [
                        "blog_id"
                    ],
                    "properties": {
                        "blog_id": {
                            "bsonType": "string"
                        },
                        "blog_heading": {
                            "bsonType": "string"
                        },
                        "likes": {
                            "bsonType": "number"
                        },
                        "views": {
                            "bsonType": "number"
                        },
                        "shares": {
                            "bsonType": "object",
                            "required": [
                                "facebook",
                                "twitter",
                                "linkedin",
                                "instagram"
                            ],
                            "properties": {
                                "facebook": {
                                    "bsonType": "number"
                                },
                                "twitter": {
                                    "bsonType": "number"
                                },
                                "linkedin": {
                                    "bsonType": "number"
                                },
                                "instagram": {
                                    "bsonType": "number"
                                }
                            }
                        }
                    }
                }
            },
            "validationLevel": "strict",
            "validationAction": "error"
        },
        {
            "name": "blog_engagement_metrics",
            "validator": {
                "$jsonSchema": {
                    "bsonType": "object",
                    "required": [
                        "blog_id"
                    ],
                    "properties": {
                        "blog_id": {
                            "bsonType": "string"
                        },
                        "engagement_metric": {
                            "bsonType": "array",
                            "items": {
                                "bsonType": "object",
                                "properties": {
                                    "time_spend_on_blog": {
                                        "bsonType": "string"
                                    },
                                    "scroll_depth": {
                                        "bsonType": "string"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "validationLevel": "strict",
            "validationAction": "error"
        },
        {
            "name": "user_data",
            "validator": {
                "$jsonSchema": {
                    "bsonType": "object",
                    "required": [
                        "blog_id"
                    ],
                    "properties": {
                        "blog_id": {
                            "bsonType": "string"
                        },
                        "referral_url": {
                            "bsonType": "string"
                        },
                        "device_type": {
                            "bsonType": "string",
                            "enum": [
                                "desktop",
                                "mobile",
                                "tablet"
                            ]
                        },
                        "screen_resolution": {
                            "bsonType": "string",
                            "pattern": "^[0-9]+x[0-9]+$"
                        },
                        "browser_and_version": {
                            "bsonType": "string",
                            "pattern": "^[a-zA-Z]+/[0-9]+(\\.[0-9]+){0,3}$"
                        },
                        "geo_location": {
                            "bsonType": "object",
                            "required": [
                                "country",
                                "city"
                            ],
                            "properties": {
                                "country": {
                                    "bsonType": "string"
                                },
                                "city": {
                                    "bsonType": "string"
                                }
                            }
                        }
                    }
                }
            },
            "validationLevel": "strict",
            "validationAction": "error"
        },
        {
            "name": "newsletter_signups",
            "validator": {
                "$jsonSchema": {
                    "bsonType": "object",
                    "required": [
                        "email"
                    ],
                    "properties": {
                        "email": {
                            "bsonType": "string"
                        }
                    }
                }
            },
            "validationLevel": "strict",
            "validationAction": "error"
        }
    ]
}